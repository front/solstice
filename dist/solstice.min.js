/**
 * A simple Solr wrapper for AngularJS apps
 * @version v0.0.3 - 2016-12-14
 * @link https://github.com/front/solstice
 * @author Élio Cró <elio@front.no>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a){"use strict";var b=a.module("solstice",[]);b.provider("Solstice",[function(){var b="";return{setEndpoint:function(a){b=a},$get:["$http",function(c){function d(b){this.search=function(d){var e=b+"/select/",f={wt:"json","json.wrf":"JSON_CALLBACK"};return a.extend(f,d),c.jsonp(e,{params:f})},this.withEndpoint=function(a){return new d(a)}}return new d(b)}]}}]),b.directive("solrSearch",[function(){return{restrict:"AE",transclude:!0,replace:!1,template:"<div ng-transclude></div>",scope:{q:"@query",start:"@",rows:"@",sort:"@",fl:"@fields",indexUrl:"@"},controller:["$scope","Solstice",function(a,b){var c=a.indexUrl?b.withEndpoint(a.indexUrl):b,d={q:a.q||"*:*",start:a.start||0,rows:a.rows||10};a.sort&&(d.sort=a.sort),a.fl&&(d.fl=a.fl),c.search(d).then(function(b){var c=b.data.response,d=a.$$childHead||a.$$nextSibling;d.solr={results:c.docs,count:c.numFound}}).catch(function(a){window.console.error(a.data)})}]}}])}(window.angular);